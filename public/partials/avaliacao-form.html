<div class="container">
  <h2>{{vm.titulo}}</h2>
  <form class="form-horizontal">
    
  <div class="form-group">
      <label for="paciente" class="col-sm-2 control-label">Paciente</label>
      <div class="col-sm-4" >
        <select name="paciente" ng-model="vm.avaliacao.paciente" class="form-control" id="paciente">
          <option ng-repeat="item in vm.paciente" value="{{item._id}}">{{item.nome}}</option>
        </select>
      </div>
    </div>	


    <div class="text-right col-sm-10 col-sm-offset-1">
      <button data-toggle="modal" data-target="#itensForm" ng-click="vm.adicionarItem()" type="button" class="btn btn-success">
        <i class="fa fa-plus-square-o" aria-hidden="true"></i>
        <span>Nova avaliação</span>
      </button>
    </div>
    <div class="table-responsive col-sm-10 col-sm-offset-1">
      <table class="table table-striped table-condensed">
        <thead>
          <tr>
            <th>Data</th>
            <th>Observação</th>
            <th>Peso</th>
            <th>Altura</th>
            <th>imc</th>
            <th>% massa magra</th>
            <th>% massa gorda</th>
            <th></th>
          </tr>
        </thead>
        <tbody>
          <tr ng-repeat="item in vm.avaliacao.itens">
            <td>{{item.data}}</td>            
            <td>{{item.observacao}}</td>            
            <td>{{item.peso}}</td>      
            <td>{{item.altura}}</td>      
            <td>{{item.imc}}</td>         
            <td>{{item.massaMagra}}</td>         
            <td>{{item.massaGorda}}</td>      
            <td class="text-right">
              <button data-toggle="modal" data-target="#itensForm" type="button" class="btn btn-link" ng-click="vm.editarItem(item)">
                <i class="fa fa-pencil-square-o" aria-hidden="true"></i>
              </button>
              <button type="button" class="btn btn-link" ng-click="vm.removerItem(item)">
                <i class="fa fa-trash-o" aria-hidden="true"></i>
              </button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
    <div class="text-right col-sm-10 col-sm-offset-1">
      <a href="#/avaliacao" class="btn btn-danger">Cancelar</a>
      <button ng-click="vm.salvar()" type="button" class="btn btn-success btn-lg">Salvar</button>
    </div>
  </form>
  <div id="itensForm" class="modal fade" tabindex="-1" role="dialog">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
          <h4 class="modal-title">Nova avaliação</h4>
        </div>
        <div class="modal-body">
          <form class="form-horizontal">
            
           

    <div class="form-group">
      <label for="paciente" class="col-sm-4 control-label">Paciente</label>
      <div class="col-sm-4" >
        <select name="paciente" ng-model="vm.avaliacao.paciente" class="form-control" id="paciente">
          <option ng-repeat="item in vm.paciente" value="{{item._id}}">{{item.nome}}</option>
        </select>
      </div>
    </div>	

    <div class="form-group">
      <label for="data" class="col-sm-2 control-label">Data</label>
      <div class="col-sm-4">
        <input type="text" class="form-control" ng-model="vm.avaliacao.data | date: 'dd/MM/yyyy'" id="data">
      </div>
    </div>    
    <div class="form-group">
      <label for="observacao" class="col-sm-2 control-label">Observação</label>
      <div class="col-sm-4">
        <input type="text" class="form-control" ng-model="vm.avaliacao.observacao" id="observacao">
      </div>
    </div>
    <div class="form-group">
      <label for="peso" class="col-sm-2 control-label">Peso</label>
      <div class="col-sm-4">
        <input type="text" class="form-control" ng-model="vm.avaliacao.peso" id="peso">
      </div>
    </div>
    <div class="form-group">
      <label for="altura" class="col-sm-2 control-label">Altura</label>
      <div class="col-sm-4">
        <input type="text" class="form-control" ng-model="vm.avaliacao.altura" id="altura">
      </div>
    </div>
    <div class="form-group">
      <label for="imc" class="col-sm-2 control-label">IMC</label>
      <div class="col-sm-4">
        <input type="text" class="form-control" ng-model="vm.avaliacao.imc" id="imc">
      </div>
    </div>
    <div class="form-group">
      <label for="massaMagra" class="col-sm-2 control-label">% Massa magra</label>
      <div class="col-sm-4">
        <input type="text" class="form-control" ng-model="vm.avaliacao.massaMagra" id="massaMagra">
      </div>
    </div>
    <div class="form-group">
      <label for="massaGorda" class="col-sm-2 control-label">% Massa gorda</label>
      <div class="col-sm-4">
        <input type="text" class="form-control" ng-model="vm.avaliacao.massaGorda" id="massaGorda">
      </div>
    </div>


          </form>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-danger" data-dismiss="modal">Cancelar</button>
          <button type="button" ng-click="vm.salvarItem()" class="btn btn-success btn-lg" data-dismiss="modal">Salvar</button>
        </div>
      </div>
      <!-- /.modal-content -->
    </div>
    <!-- /.modal-dialog -->
  </div>
  <!-- /.modal -->
</div>
<!-- /.container -->